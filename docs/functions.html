<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Functions | Intermediate R Workshop</title>
  <meta name="description" content="7 Functions | Intermediate R Workshop" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Functions | Intermediate R Workshop" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="Doi90/Intermediate_R_Workshop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Functions | Intermediate R Workshop" />
  
  
  

<meta name="author" content="David Wilkinson" />


<meta name="date" content="2020-02-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loops.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="lodestar.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intermediate R Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="technical-requirements.html"><a href="technical-requirements.html"><i class="fa fa-check"></i><b>2</b> Technical Requirements</a></li>
<li class="chapter" data-level="3" data-path="dataset.html"><a href="dataset.html"><i class="fa fa-check"></i><b>3</b> Dataset</a></li>
<li class="chapter" data-level="4" data-path="project-set-up.html"><a href="project-set-up.html"><i class="fa fa-check"></i><b>4</b> Project Set-up</a><ul>
<li class="chapter" data-level="4.1" data-path="project-set-up.html"><a href="project-set-up.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="project-set-up.html"><a href="project-set-up.html#directory-structures"><i class="fa fa-check"></i><b>4.2</b> Directory structures</a></li>
<li class="chapter" data-level="4.3" data-path="project-set-up.html"><a href="project-set-up.html#r-projects"><i class="fa fa-check"></i><b>4.3</b> R Projects</a></li>
<li class="chapter" data-level="4.4" data-path="project-set-up.html"><a href="project-set-up.html#code-script-structures"><i class="fa fa-check"></i><b>4.4</b> Code script structures</a></li>
<li class="chapter" data-level="4.5" data-path="project-set-up.html"><a href="project-set-up.html#code-style-guides"><i class="fa fa-check"></i><b>4.5</b> Code style guides</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>5</b> Conditionals</a><ul>
<li class="chapter" data-level="5.1" data-path="conditionals.html"><a href="conditionals.html#if-statements"><i class="fa fa-check"></i><b>5.1</b> <code>if</code> statements</a></li>
<li class="chapter" data-level="5.2" data-path="conditionals.html"><a href="conditionals.html#if-else-statements"><i class="fa fa-check"></i><b>5.2</b> <code>if else</code> statements</a></li>
<li class="chapter" data-level="5.3" data-path="conditionals.html"><a href="conditionals.html#the-ifelse-function"><i class="fa fa-check"></i><b>5.3</b> The <code>ifelse()</code> function</a></li>
<li class="chapter" data-level="5.4" data-path="conditionals.html"><a href="conditionals.html#challenge-answers"><i class="fa fa-check"></i><b>5.4</b> Challenge Answers</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>6</b> Loops</a><ul>
<li class="chapter" data-level="6.1" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>6.1</b> <code>for</code> loops</a><ul>
<li class="chapter" data-level="6.1.1" data-path="loops.html"><a href="loops.html#nested-for-loops"><i class="fa fa-check"></i><b>6.1.1</b> Nested <code>for</code> loops</a></li>
<li class="chapter" data-level="6.1.2" data-path="loops.html"><a href="loops.html#growing-outputs"><i class="fa fa-check"></i><b>6.1.2</b> Growing outputs</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="loops.html"><a href="loops.html#while-loops"><i class="fa fa-check"></i><b>6.2</b> <code>while</code> loops</a></li>
<li class="chapter" data-level="6.3" data-path="loops.html"><a href="loops.html#challenge-answers-1"><i class="fa fa-check"></i><b>6.3</b> Challenge Answers</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>7</b> Functions</a><ul>
<li class="chapter" data-level="7.1" data-path="functions.html"><a href="functions.html#what-is-a-function"><i class="fa fa-check"></i><b>7.1</b> What is a function?</a></li>
<li class="chapter" data-level="7.2" data-path="functions.html"><a href="functions.html#function-structure"><i class="fa fa-check"></i><b>7.2</b> Function structure</a></li>
<li class="chapter" data-level="7.3" data-path="functions.html"><a href="functions.html#define-our-own-function"><i class="fa fa-check"></i><b>7.3</b> Define our own function</a></li>
<li class="chapter" data-level="7.4" data-path="functions.html"><a href="functions.html#nesting-functions"><i class="fa fa-check"></i><b>7.4</b> Nesting functions</a></li>
<li class="chapter" data-level="7.5" data-path="functions.html"><a href="functions.html#applying-functions-to-datasets"><i class="fa fa-check"></i><b>7.5</b> Applying functions to datasets</a></li>
<li class="chapter" data-level="7.6" data-path="functions.html"><a href="functions.html#challenge-answers-2"><i class="fa fa-check"></i><b>7.6</b> Challenge Answers</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://nikkirubinstein.gitbooks.io/resguides-introductory-r-workshop/content/" target="blank"> Modified with permission from Research Platforms Services material</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intermediate R Workshop</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1">
<h1><span class="header-section-number">7</span> Functions</h1>
<div id="what-is-a-function" class="section level2">
<h2><span class="header-section-number">7.1</span> What is a function?</h2>
<p>Functions let us repeat several operations with a single command. This is useful when we want to apply the same process exactly to different inputs, as we only need to define the process (i.e. write the code) once rather than for each input. In fact, almost everything we’ve already covered today is a function.</p>
<p>Functions provide:</p>
<ul>
<li>A name we can remember and invoke it by</li>
<li>A relief from the need to remember individual operations</li>
<li>A defined set of expetected inputs and outputs</li>
<li>Rich connections to a larger programming environment</li>
</ul>
</div>
<div id="function-structure" class="section level2">
<h2><span class="header-section-number">7.2</span> Function structure</h2>
<p>All functions in R follow a set structure. They require a <code>name</code>, a list of inputs called an <code>arglist</code>, and the desired processes defined in the <code>body</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1">name &lt;-<span class="st"> </span><span class="cf">function</span>(arglist){</a>
<a class="sourceLine" id="cb40-2" title="2">  </a>
<a class="sourceLine" id="cb40-3" title="3">  body</a>
<a class="sourceLine" id="cb40-4" title="4">  </a>
<a class="sourceLine" id="cb40-5" title="5">}</a></code></pre></div>
<p>We can see how existing functions in R are defined by typing the function name in the console without brackets, or by highlighting the function name and pressing <code>F2</code>. Here is the definition of the <code>upper.tri()</code> function:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">upper.tri</a></code></pre></div>
<pre><code>## function (x, diag = FALSE) 
## {
##     d &lt;- dim(x)
##     if (length(d) != 2L) 
##         d &lt;- dim(as.matrix(x))
##     if (diag) 
##         .row(d) &lt;= .col(d)
##     else .row(d) &lt; .col(d)
## }
## &lt;bytecode: 0x0000016c5593f4c0&gt;
## &lt;environment: namespace:base&gt;</code></pre>
</div>
<div id="define-our-own-function" class="section level2">
<h2><span class="header-section-number">7.3</span> Define our own function</h2>
<p>Now lets define our own function. There is already a function called <code>sum()</code> in R, but addding two numbers together is a simple process and serves as a useful example. Here we define a function called <code>mySum()</code> that will return the sum of two input values <code>a</code> and <code>b</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">mySum &lt;-<span class="st"> </span><span class="cf">function</span>(a, b){</a>
<a class="sourceLine" id="cb43-2" title="2">  </a>
<a class="sourceLine" id="cb43-3" title="3">  value &lt;-<span class="st"> </span>a <span class="op">+</span><span class="st"> </span>b</a>
<a class="sourceLine" id="cb43-4" title="4">  </a>
<a class="sourceLine" id="cb43-5" title="5">  <span class="kw">return</span>(value)</a>
<a class="sourceLine" id="cb43-6" title="6"></a>
<a class="sourceLine" id="cb43-7" title="7">}</a></code></pre></div>
<p>Functions can be as simple or complex as required.</p>
<p>Converting temperature values between different units of measure is possible with the use of formulas. Rather than having to apply the formula each time we want to make the conversion, defining it as a function would make things much easier.</p>
<p>Now we can define a function for converting temperatures in fahrenheit to kelvin:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1">fahr_to_kelvin &lt;-<span class="st"> </span><span class="cf">function</span>(temp){</a>
<a class="sourceLine" id="cb44-2" title="2">  </a>
<a class="sourceLine" id="cb44-3" title="3">  kelvin &lt;-<span class="st"> </span>((temp <span class="op">-</span><span class="st"> </span><span class="dv">32</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">5</span> <span class="op">/</span><span class="st"> </span><span class="dv">9</span>)) <span class="op">+</span><span class="st"> </span><span class="fl">273.15</span></a>
<a class="sourceLine" id="cb44-4" title="4">  </a>
<a class="sourceLine" id="cb44-5" title="5">  <span class="kw">return</span>(kelvin)</a>
<a class="sourceLine" id="cb44-6" title="6">  </a>
<a class="sourceLine" id="cb44-7" title="7">}</a></code></pre></div>
<p>Now lets test it:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">fahr_to_kelvin</span>(<span class="dv">32</span>)</a></code></pre></div>
<pre><code>## [1] 273.15</code></pre>
<pre><code>###################
### CHALLENGE 8 ###
###################

Write your own function to convert temperatures from kelvin to celsius.

Hint: to convert from kelvin to celsius subtract 273.15</code></pre>
</div>
<div id="nesting-functions" class="section level2">
<h2><span class="header-section-number">7.4</span> Nesting functions</h2>
<p>The real power of functions comes from the ability to mix, match, and combine them into ever larger chunks to get the effect we want. In fact, the vast majority of functions in <code>R</code> make use of nested functions. If we look at the <code>upper.tri()</code> function again, we can see that it uses a combination of <code>as.matrix()</code>, <code>row()</code>, and <code>col()</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1">upper.tri</a></code></pre></div>
<pre><code>## function (x, diag = FALSE) 
## {
##     d &lt;- dim(x)
##     if (length(d) != 2L) 
##         d &lt;- dim(as.matrix(x))
##     if (diag) 
##         .row(d) &lt;= .col(d)
##     else .row(d) &lt; .col(d)
## }
## &lt;bytecode: 0x0000016c5593f4c0&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<pre><code>###################
### CHALLENGE 9 ###
###################

Using the two functions we&#39;ve defined to convert fahrenheit to kelvin, and kelvin to celsius, define a function that converts fahrenheit to celsius.</code></pre>
</div>
<div id="applying-functions-to-datasets" class="section level2">
<h2><span class="header-section-number">7.5</span> Applying functions to datasets</h2>
<p>Here we define a function that calculates the average age in a dataset (in our case, the titanic dataset).</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1">calcAgeAverage &lt;-<span class="st"> </span><span class="cf">function</span>(dat){</a>
<a class="sourceLine" id="cb51-2" title="2">  </a>
<a class="sourceLine" id="cb51-3" title="3">  ageAverage &lt;-<span class="st"> </span><span class="kw">mean</span>(dat<span class="op">$</span>Age, </a>
<a class="sourceLine" id="cb51-4" title="4">                     <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb51-5" title="5">  </a>
<a class="sourceLine" id="cb51-6" title="6">  <span class="kw">return</span>(ageAverage)</a>
<a class="sourceLine" id="cb51-7" title="7"></a>
<a class="sourceLine" id="cb51-8" title="8">}</a></code></pre></div>
<p>Now to test it:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">calcAgeAverage</span>(titanic)</a></code></pre></div>
<pre><code>## [1] 29.69912</code></pre>
<p>Now we can add an additional argument to the function so that we can find the average age by gender:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1">calcAgeAverage &lt;-<span class="st"> </span><span class="cf">function</span>(dat, </a>
<a class="sourceLine" id="cb54-2" title="2">                           <span class="dt">sex =</span> <span class="st">&quot;female&quot;</span>){</a>
<a class="sourceLine" id="cb54-3" title="3">  </a>
<a class="sourceLine" id="cb54-4" title="4">  ageAverage &lt;-<span class="st"> </span><span class="kw">mean</span>(dat[dat<span class="op">$</span>Sex <span class="op">==</span><span class="st"> </span>sex, ]<span class="op">$</span>Age, </a>
<a class="sourceLine" id="cb54-5" title="5">                     <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb54-6" title="6">  </a>
<a class="sourceLine" id="cb54-7" title="7">  <span class="kw">return</span>(ageAverage)</a>
<a class="sourceLine" id="cb54-8" title="8">  </a>
<a class="sourceLine" id="cb54-9" title="9">}</a></code></pre></div>
<p>And test it:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">calcAgeAverage</span>(titanic, </a>
<a class="sourceLine" id="cb55-2" title="2">               <span class="dt">sex =</span> <span class="st">&quot;female&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 27.91571</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">calcAgeAverage</span>(titanic, </a>
<a class="sourceLine" id="cb57-2" title="2">               <span class="dt">sex =</span> <span class="st">&quot;male&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 30.72664</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1"><span class="kw">calcAgeAverage</span>(titanic)</a></code></pre></div>
<pre><code>## [1] 27.91571</code></pre>
<pre><code>####################
### CHALLENGE 10 ###
####################

Define the function to calculate the average age for specific classes of a single sex. Hint: Look up the function %in%, which will allow you to subset by multiple classes.
</code></pre>
</div>
<div id="challenge-answers-2" class="section level2">
<h2><span class="header-section-number">7.6</span> Challenge Answers</h2>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1"><span class="co">###################</span></a>
<a class="sourceLine" id="cb62-2" title="2"><span class="co">### CHALLENGE 8 </span><span class="al">###</span></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="co">###################</span></a>
<a class="sourceLine" id="cb62-4" title="4"></a>
<a class="sourceLine" id="cb62-5" title="5">kelvin_to_celsius &lt;-<span class="st"> </span><span class="cf">function</span>(temp){</a>
<a class="sourceLine" id="cb62-6" title="6">  </a>
<a class="sourceLine" id="cb62-7" title="7">  celsius &lt;-<span class="st"> </span>temp <span class="op">-</span><span class="st"> </span><span class="fl">273.15</span></a>
<a class="sourceLine" id="cb62-8" title="8">  </a>
<a class="sourceLine" id="cb62-9" title="9">  <span class="kw">return</span>(celsius)</a>
<a class="sourceLine" id="cb62-10" title="10"></a>
<a class="sourceLine" id="cb62-11" title="11">}</a></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1"><span class="co">###################</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="co">### CHALLENGE 9 </span><span class="al">###</span></a>
<a class="sourceLine" id="cb63-3" title="3"><span class="co">###################</span></a>
<a class="sourceLine" id="cb63-4" title="4"></a>
<a class="sourceLine" id="cb63-5" title="5">fahr_to_celsius &lt;-<span class="st"> </span><span class="cf">function</span>(temp){</a>
<a class="sourceLine" id="cb63-6" title="6">  </a>
<a class="sourceLine" id="cb63-7" title="7">  kelvin &lt;-<span class="st"> </span><span class="kw">fahr_to_kelvin</span>(temp)</a>
<a class="sourceLine" id="cb63-8" title="8">  </a>
<a class="sourceLine" id="cb63-9" title="9">  celsius &lt;-<span class="st"> </span><span class="kw">kelvin_to_celsius</span>(kelvin)</a>
<a class="sourceLine" id="cb63-10" title="10">  </a>
<a class="sourceLine" id="cb63-11" title="11">  <span class="kw">return</span>(celsius)</a>
<a class="sourceLine" id="cb63-12" title="12">  </a>
<a class="sourceLine" id="cb63-13" title="13">}</a></code></pre></div>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1"><span class="co">####################</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="co">### CHALLENGE 10 </span><span class="al">###</span></a>
<a class="sourceLine" id="cb64-3" title="3"><span class="co">####################</span></a>
<a class="sourceLine" id="cb64-4" title="4"></a>
<a class="sourceLine" id="cb64-5" title="5">calcAgeAverage &lt;-<span class="st"> </span><span class="cf">function</span>(dat, </a>
<a class="sourceLine" id="cb64-6" title="6">                           sex, </a>
<a class="sourceLine" id="cb64-7" title="7">                           class){</a>
<a class="sourceLine" id="cb64-8" title="8">  </a>
<a class="sourceLine" id="cb64-9" title="9">   ageAverage &lt;-<span class="st"> </span><span class="kw">mean</span>(dat[dat<span class="op">$</span>Sex <span class="op">==</span><span class="st"> </span>sex <span class="op">&amp;</span><span class="st"> </span>dat<span class="op">$</span>Pclass <span class="op">%in%</span><span class="st"> </span>class, ]<span class="op">$</span>Age, </a>
<a class="sourceLine" id="cb64-10" title="10">                      <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb64-11" title="11">   </a>
<a class="sourceLine" id="cb64-12" title="12">   <span class="kw">return</span>(ageAverage)</a>
<a class="sourceLine" id="cb64-13" title="13">   </a>
<a class="sourceLine" id="cb64-14" title="14">}</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="loops.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true,
"search": true
}
});
});
</script>

</body>

</html>
